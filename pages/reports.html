<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

      <!-- Google Fonts: Poppins -->
      <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" />

      <title>Reports - AquaPure</title>
      <link rel="stylesheet" href="../assets/css/main.css" />
   </head>

   <body>
      <header id="navbar"></header>
      <aside id="sidebar"></aside>
      <main class="main-content p-4 p-md-5">
         <div class="container-fluid">
            <h1 class="mb-4 section-header">Reports</h1>

            <div class="row g-4">
               <!-- Generate Reports Card -->
               <div class="col-lg-4">
                  <div class="card h-100">
                     <h5 class="mb-3" style="color: var(--color-text); font-weight: 600;">Generate Reports</h5>
                     <p class="mb-4 text-muted">Select parameters to generate water quality reports</p>
                     
                     <div class="row g-3">
                        <div class="col-12">
                           <label for="reportLocation" class="form-label" style="color: var(--color-text); font-weight: 500;">Location</label>
                           <select class="form-select" id="reportLocation" style="border-color: var(--color-border);">
                              <option selected>Select location</option>
                              <option value="1">Main water tank</option>
                              <option value="2">Water filter pipe</option>
                              <option value="3">Distribution point A</option>
                              <option value="4">Storage tank B</option>
                              <option value="5">Monitoring station C</option>
                           </select>
                        </div>
                        <div class="col-12">
                           <label for="reportDevice" class="form-label" style="color: var(--color-text); font-weight: 500;">Device</label>
                           <select class="form-select" id="reportDevice" style="border-color: var(--color-border);">
                              <option selected>Select device</option>
                              <option value="1">Device-01</option>
                              <option value="2">Device-02</option>
                              <option value="3">Device-03</option>
                              <option value="4">Device-04</option>
                              <option value="5">Device-05</option>
                           </select>
                        </div>
                        <div class="col-12">
                           <label for="startDate" class="form-label" style="color: var(--color-text); font-weight: 500;">Start Date</label>
                           <input type="date" class="form-control" id="startDate" style="border-color: var(--color-border);">
                        </div>
                        <div class="col-12">
                           <label for="endDate" class="form-label" style="color: var(--color-text); font-weight: 500;">End Date</label>
                           <input type="date" class="form-control" id="endDate" style="border-color: var(--color-border);">
                        </div>
                        <div class="col-12">
                           <button class="btn btn-primary w-100" onclick="generateReport()" style="background-color: var(--color-primary); border-color: var(--color-primary);">
                              <i class="bi bi-file-earmark-text me-2"></i>Generate Report
                           </button>
                        </div>
                     </div>
                  </div>
               </div>

               <!-- Preview Report Card -->
               <div class="col-lg-8">
                  <div class="card h-100">
                     <div class="d-flex justify-content-between align-items-center mb-3">
                        <div>
                           <h5 class="mb-1" style="color: var(--color-text); font-weight: 600;">Preview Report</h5>
                           <p class="mb-0 text-muted">Generated report preview will appear here</p>
                        </div>
                     </div>
                     
                     <!-- Report Preview Content -->
                     <div id="reportPreview" class="border rounded p-4 mb-3 flex-grow-1" style="background-color: var(--color-bg-secondary); border-color: var(--color-border); min-height: 400px;">
                        <div class="text-center py-5">
                           <i class="bi bi-file-earmark-bar-graph" style="font-size: 3rem; color: var(--color-muted); margin-bottom: 1rem; display: block;"></i>
                           <p style="color: var(--color-muted);">No report generated yet. Fill the form to generate a report.</p>
                        </div>
                     </div>
                     
                     <!-- Export Button -->
                     <div class="text-end">
                        <button class="btn btn-primary" onclick="exportReport()" style="background-color: var(--color-primary); border-color: var(--color-primary);">
                           <i class="bi bi-box-arrow-up pe-1"></i>Export Report
                        </button>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </main>

      <!-- Optional JavaScript -->
      <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js" integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y" crossorigin="anonymous"></script>
      <script src="../assets/js/shared-data.js"></script>
      <script src="../assets/js/main.js"></script>
      <script src="../assets/js/navbar.js"></script>
      <script>
         // Simple placeholder functions for demo
         function generateReport() {
            const location = document.getElementById('reportLocation').value;
            const device = document.getElementById('reportDevice').value;
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            
            if (!location || location === 'Select location' || !device || device === 'Select device' || !startDate || !endDate) {
               alert('Please fill in all fields to generate a report');
               return;
            }
            
            // Show sample report preview
            const preview = document.getElementById('reportPreview');
            preview.innerHTML = `
               <div style="color: var(--color-text);">
                  <h4 class="mb-3" style="font-weight: 600;">Water Quality Report</h4>
                  <div class="row mb-3">
                     <div class="col-md-6">
                        <p class="mb-1"><strong>Location:</strong> ${document.getElementById('reportLocation').options[document.getElementById('reportLocation').selectedIndex].text}</p>
                        <p class="mb-1"><strong>Device:</strong> ${document.getElementById('reportDevice').options[document.getElementById('reportDevice').selectedIndex].text}</p>
                     </div>
                     <div class="col-md-6">
                        <p class="mb-1"><strong>Period:</strong> ${startDate} to ${endDate}</p>
                        <p class="mb-1"><strong>Generated:</strong> ${new Date().toLocaleDateString()}</p>
                     </div>
                  </div>
                  <hr style="border-color: var(--color-border);">
                  <h6 class="mt-3 mb-3" style="font-weight: 600;">Summary Statistics</h6>
                  <div class="row g-3">
                     <div class="col-md-3">
                        <div class="p-3 rounded" style="background-color: var(--color-phlevel-bg);">
                           <small style="color: var(--color-secondary-text);">Avg pH Level</small>
                           <h5 class="mb-0 mt-1" style="color: var(--color-phlevel); font-weight: 600;">7.2</h5>
                        </div>
                     </div>
                     <div class="col-md-3">
                        <div class="p-3 rounded" style="background-color: var(--color-turbidity-bg);">
                           <small style="color: var(--color-secondary-text);">Avg Turbidity</small>
                           <h5 class="mb-0 mt-1" style="color: var(--color-turbidity); font-weight: 600;">2.3 NTU</h5>
                        </div>
                     </div>
                     <div class="col-md-3">
                        <div class="p-3 rounded" style="background-color: var(--color-temperature-bg);">
                           <small style="color: var(--color-secondary-text);">Avg Temperature</small>
                           <h5 class="mb-0 mt-1" style="color: var(--color-temperature); font-weight: 600;">24.5Â°C</h5>
                        </div>
                     </div>
                     <div class="col-md-3">
                        <div class="p-3 rounded" style="background-color: var(--color-oxygen-bg);">
                           <small style="color: var(--color-secondary-text);">Avg Oxygen</small>
                           <h5 class="mb-0 mt-1" style="color: var(--color-oxygen); font-weight: 600;">8.1 mg/L</h5>
                        </div>
                     </div>
                  </div>
                  <div class="mt-4 p-3 rounded" style="background-color: var(--color-bg); border: 1px solid var(--color-border);">
                     <p class="mb-0" style="color: var(--color-secondary-text);"><i class="bi bi-info-circle me-2"></i>This is a preview. Full report functionality will be implemented in the future.</p>
                  </div>
               </div>
            `;
         }
         
         function exportReport() {
            const preview = document.getElementById('reportPreview');
            if (preview.querySelector('.bi-file-earmark-bar-graph')) {
               alert('Please generate a report first before exporting');
            } else {
               alert('Export functionality coming soon!\n\nThe report will be exported as PDF.');
            }
         }
      </script>
   </body>
</html>
