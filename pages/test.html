<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8" />
      <title>Water Quality Dashboard</title>
      <!-- Bootstrap 5 -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
      <!-- Chart.js -->
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

      <style>
         body {
            background-color: #f3f5fb;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
         }
         .card {
            border: none;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(22, 34, 79, 0.08);
         }
         .metric-value {
            font-size: 2.3rem;
            font-weight: 700;
            line-height: 1;
         }
         .metric-unit {
            font-size: 1rem;
            margin-left: 0.15rem;
         }
         .metric-sub {
            font-size: 0.9rem;
            color: #94a3b8;
         }
         .metric-change {
            color: #16a34a;
            font-weight: 600;
         }
         .chart-wrapper {
            position: relative;
            height: 140px;
            margin-top: 10px;
         }
         .badge-soft {
            border-radius: 14px;
            font-size: 0.75rem;
            padding: 0.35rem 0.7rem;
            background: rgba(148, 163, 184, 0.15);
            color: #64748b;
         }
         .card-title-small {
            font-size: 0.95rem;
            color: #9ca3af;
            margin-bottom: 0.15rem;
         }
      </style>
   </head>
   <body>
      <div class="container py-5">
         <div class="row g-4">
            <!-- pH -->
            <div class="col-md-6 col-lg-6">
               <div class="card p-4 h-100">
                  <div class="d-flex justify-content-between align-items-start">
                     <div>
                        <div class="card-title-small">pH Level Average</div>
                        <div class="metric-value">7.2</div>
                        <div class="metric-sub">Last 7 Days <span class="metric-change">+0.1%</span></div>
                     </div>
                     <span class="badge-soft"> üî¨ </span>
                  </div>
                  <div class="chart-wrapper">
                     <canvas id="phChart"></canvas>
                  </div>
               </div>
            </div>

            <!-- Temperature -->
            <div class="col-md-6 col-lg-6">
               <div class="card p-4 h-100">
                  <div class="d-flex justify-content-between align-items-start">
                     <div>
                        <div class="card-title-small">Temperature Average</div>
                        <div class="metric-value">25<span class="metric-unit">‚ÑÉ</span></div>
                        <div class="metric-sub">Last 7 Days <span class="metric-change">+0.1%</span></div>
                     </div>
                     <span class="badge-soft"> üå°Ô∏è </span>
                  </div>
                  <div class="chart-wrapper">
                     <canvas id="tempChart"></canvas>
                  </div>
               </div>
            </div>

            <!-- Oxygen -->
            <div class="col-md-6 col-lg-6">
               <div class="card p-4 h-100">
                  <div class="d-flex justify-content-between align-items-start">
                     <div>
                        <div class="card-title-small">Oxygen Level Average</div>
                        <div class="metric-value">7.5 <span class="metric-unit">mg/L</span></div>
                        <div class="metric-sub">Last 7 Days <span class="metric-change">+0.1%</span></div>
                     </div>
                     <span class="badge-soft"> O‚ÇÇ </span>
                  </div>
                  <div class="chart-wrapper">
                     <canvas id="oxygenChart"></canvas>
                  </div>
               </div>
            </div>

            <!-- Turbidity -->
            <div class="col-md-6 col-lg-6">
               <div class="card p-4 h-100">
                  <div class="d-flex justify-content-between align-items-start">
                     <div>
                        <div class="card-title-small">Turbidity Average</div>
                        <div class="metric-value">0.5 <span class="metric-unit">NTU</span></div>
                        <div class="metric-sub">Last 7 Days <span class="metric-change">+0.1%</span></div>
                     </div>
                     <span class="badge-soft"> üíß </span>
                  </div>
                  <div class="chart-wrapper">
                     <canvas id="turbidityChart"></canvas>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <script>
         document.addEventListener("DOMContentLoaded", function () {
            const labels = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];

            function createGradient(ctx, color) {
               const gradient = ctx.createLinearGradient(0, 0, 0, 160);
               gradient.addColorStop(0, color.replace("1)", "0.35)"));
               gradient.addColorStop(1, color.replace("1)", "0)"));
               return gradient;
            }

            function createLineChart(canvasId, data, borderColor) {
               const canvas = document.getElementById(canvasId);
               const ctx = canvas.getContext("2d");
               const bg = createGradient(ctx, borderColor);

               new Chart(ctx, {
                  type: "line",
                  data: {
                     labels: labels,
                     datasets: [
                        {
                           data: data,
                           borderColor: borderColor,
                           backgroundColor: bg,
                           fill: true,
                           tension: 0.4,
                           pointRadius: 0,
                        },
                     ],
                  },
                  options: {
                     responsive: true,
                     maintainAspectRatio: false,
                     plugins: {
                        legend: { display: false },
                        tooltip: {
                           backgroundColor: "#0f172a",
                           titleColor: "#e5e7eb",
                           bodyColor: "#e5e7eb",
                           cornerRadius: 10,
                        },
                     },
                     scales: {
                        x: {
                           grid: { display: false },
                           ticks: {
                              font: { size: 11 },
                              color: "#9ca3af",
                           },
                        },
                        y: {
                           display: false,
                           grid: { display: false },
                        },
                     },
                  },
               });
            }

            // DATA DUMMY 7 HARI
            const phData = [7.3, 7.1, 7.2, 7.25, 7.0, 7.4, 7.2];
            const tempData = [24.5, 25, 24.8, 25.3, 24.0, 25.8, 25.1];
            const oxygenData = [7.6, 7.3, 7.4, 7.5, 7.1, 7.9, 7.6];
            const turbidityData = [0.6, 0.5, 0.55, 0.52, 0.48, 0.7, 0.5];

            // WARNA (RGBA, alpha=1 untuk border)
            createLineChart("phChart", phData, "rgba(124, 92, 255, 1)");
            createLineChart("tempChart", tempData, "rgba(255, 163, 72, 1)");
            createLineChart("oxygenChart", oxygenData, "rgba(16, 185, 129, 1)");
            createLineChart("turbidityChart", turbidityData, "rgba(59, 130, 246, 1)");
         });
      </script>
   </body>
</html>
